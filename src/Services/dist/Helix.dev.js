"use strict";var _interopRequireDefault=require("@babel/runtime/helpers/interopRequireDefault");Object.defineProperty(exports,"__esModule",{value:true});exports.GetNextProduct=exports.Entities=exports.CreateOrUPdate=exports.HttpConfig=exports["default"]=void 0;var _regenerator=_interopRequireDefault(require("@babel/runtime/regenerator"));var _axios=_interopRequireDefault(require("axios"));var ServerUrl='34.70.244.238';var HttpConfig={Protocol:'http',Url:ServerUrl,Port:'1026'};exports.HttpConfig=HttpConfig;var HELIX_HTTP=_axios["default"].create({baseURL:'http://34.70.244.238:1026',headers:{'Content-Type':'application/json'}});var CreateOrUPdate='/v2/op/update';exports.CreateOrUPdate=CreateOrUPdate;var Entities='/v2/entities';exports.Entities=Entities;function GetNextId(type){var response,split,nId,sId;return _regenerator["default"].async(function GetNextId$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return _regenerator["default"].awrap(HELIX_HTTP.get("".concat(Entities,"/?type=").concat(type)));case 3:response=_context.sent;if(!(response.status==200)){_context.next=14;break;}if(!(response.data.length>0)){_context.next=13;break;}split=response.data[response.data.length-1].id.split(':');nId=parseInt(split[3]);nId++;sId=("000"+nId).slice(-3);return _context.abrupt("return","urn:ngsi-ld:".concat(type,":").concat(sId));case 13:return _context.abrupt("return","urn:ngsi-ld:".concat(type,":001"));case 14:_context.next=20;break;case 16:_context.prev=16;_context.t0=_context["catch"](0);console.log(_context.t0);return _context.abrupt("return",null);case 20:case"end":return _context.stop();}}},null,null,[[0,16]]);}var GetNextProduct=GetNextId("Product");exports.GetNextProduct=GetNextProduct;var _default=HELIX_HTTP;exports["default"]=_default;